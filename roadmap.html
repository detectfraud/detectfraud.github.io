<!-- Collage (21:18 27.08.25) -->
<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<title>–ö–∞–º—ñ–Ω—å –ª—é–±–æ–≤—ñ ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä</title>
<style>
body { font-family: sans-serif; text-align:center; background:url(https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjghIwEmgtr9VAIzGM4eS8BdLA1nptupwYDch46JvrMH9AILVqnNpUX_vxUtQe2Kr-eNLgXcUu_dfNCc7P45vPblF37xpoN8dbLsm9VHiMKmYf58ixmJeQHTY4R4hvGXj0nC7SqiD_2UWRGvIDgUrvZqoVqq8qT61yJB846igsv4ceY7Q/s1600/fon.png) repeat scroll top left; }  /*background:#f5f5f5;*/
.venwin {  border-radius:10px;  display:inline-block; background:url(https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjghIwEmgtr9VAIzGM4eS8BdLA1nptupwYDch46JvrMH9AILVqnNpUX_vxUtQe2Kr-eNLgXcUu_dfNCc7P45vPblF37xpoN8dbLsm9VHiMKmYf58ixmJeQHTY4R4hvGXj0nC7SqiD_2UWRGvIDgUrvZqoVqq8qT61yJB846igsv4ceY7Q/s1600/fon.png) repeat scroll top left; }   /*padding:10px;*/
canvas { border:3px solid #bbb; border-radius:6px; box-shadow:0 6px 18px rgba(0,0,0,.1); display:block; margin:10px auto; }
#scaleSlider { width:420px;}
button { padding:8px 12px; cursor:pointer; border-radius:8px; }
.disabled { pointer-events:none; opacity:.5; filter:grayscale(100%); }

.gallery-container { display:flex; align-items:flex-start; justify-content:center; gap:10px; margin-top:20px; }
.gallery-block { display:flex; flex-direction:column; align-items:center; gap:10px; }
.gallery-block > div { display:flex; align-items:center; justify-content:center; }
.arrow, .arow { font-size:20px; cursor:pointer; user-select:none; padding:3px; line-height:1; display:flex; align-items:center; justify-content:center;  }
.arrow:first-child { margin-right:-110px; } .arrow:last-child { margin-left:-110px; }
.arow:first-child { margin-right:-60px; }
.arow:last-child { margin-left:-60px; }
.thumbnails { display:flex; gap:10px; overflow:hidden; width:600px; justify-content:center; }
.thumb-wrapper { position:relative; }
.thumb { width:108px; height:72px; object-fit:cover; border-radius:8px; cursor:pointer; box-shadow:0 0 6px rgba(0,0,0,0.3); transition:all 0.3s ease; z-index:1; }
.collage { position:relative; display:inline-block; margin-top:40px; }
.collage img.overlay { position:absolute; bottom:10px; right:10px; width:500px; border-radius:8px; box-shadow:0 0 8px rgba(0,0,0,0.4); }

#fot { display:inline-block; cursor:pointer; border-radius:8px; width:108px; height:72px; background-image:url(https://detectfraud.github.io/gallery/Para.png); background-repeat:no-repeat; background-size:contain; }
#fot:hover { mix-blend-mode:luminosity; }
#fot:active { mix-blend-mode:exclusion; }

.imagbox { position:fixed; top:50%; left:50%; width:825px; height:510px; transform:translate(-50%,-50%) scale(0.1); opacity:0; transition:all 0.5s ease; z-index:9999; border-radius:12px; box-shadow:0 0 25px rgba(0,0,0,0.7); pointer-events:none; background:#fff; }
.thumb-wrapper:hover .imagbox { opacity:1; transform:translate(-50%,-50%) scale(0.6); }
.photo-block { margin-left:100px; }
#updateBtn { margin-left:300px;font-weight:bold;color:red; }
.gallery-container.vows .labels { display:grid; grid-template-columns:repeat(4,1fr); text-align:center; margin-bottom:5px; }
.gallery-container.vows .labels .label1 { grid-column:1; font-weight:bold; margin-left:70px; }
.gallery-container.vows .labels .label2 { grid-column:3; font-weight:bold; }
.arrow, .arow {  position:relative; z-index:3; } /*<br><br>*/
</style>
</head>
<body>

<fieldset class="venwin" style="height:auto;">
<div class="collage" id="collage">
  <canvas id="canvas" width="900" height="600" style="border:1px solid #ccc;"></canvas>
</div>

<br><input type="range" id="scaleSlider" min="0.1" max="3" step="0.01" value="1">

<!-- –ì–∞–ª–µ—Ä–µ—è —Ñ–æ–Ω—ñ–≤ -->
<div class="gallery-container">
  <div class="gallery-block" id="vowsi">
    <b>–§–æ–Ω</b>
    <div>
      <span class="arrow" onclick="prevSlide()">&#10094;</span>
      <div class="thumbnails" id="thumbs"></div>
      <span class="arrow" onclick="nextSlide()">&#10095;</span>
    </div>
  </div>
<div class="gallery-block photo-block"> 
    <b>–§–æ—Ç–æ</b>
    <div>
    <label id="fot" title="–§–æ—Ç–æ –∑–∞–∫–æ—Ö–∞–Ω–∏—Ö"></label>
  </div>
</div>
</div>

<!-- –ì–∞–ª–µ—Ä–µ—è –∫–ª—è—Ç–≤ -->
<div class="gallery-container vows" id="vowse" style="display:none;">
  <div class="gallery-block">
    <div class="labels">
      <span class="label1">–ù–∞–¥–ø–∏—Å</span>
      <span class="label2">–ö–ª—è—Ç–≤–∞ –∑–∞–∫–æ—Ö–∞–Ω–∏—Ö</span>
    </div>
    <div class="gallery-row">
      <span class="arow" onclick="prevVow()">&#10094;</span>
      <div class="thumbnails" id="thumbsVows"></div>
      <span class="arow" onclick="nextVow()">&#10095;</span>
    </div>
  </div>
</div>
<br><br>
  <div>
<button id="undoBtn" type="button">‚ü≤ Undo</button>
<button id="previewBtn" type="button">üëÅ –ü–µ—Ä–µ–≥–ª—è–¥</button>
<button id="downloadBtn" type="button" style="display:none;">üì• –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>
     
  <button id="updateBtn" type="button">UPDATE</button>
</div> </fieldset>
<input type="file" id="bgLoader" style="display:none">
<input type="file" id="loveLoader" style="display:none">
<script>
// –¢–µ—Å—Ç–æ–≤–∏–π —à–∞—Ä
const testLayer = { img: null, x: 200, y: 300, scale: 1 };

// –î–æ–¥–∞–≤–∞–Ω–Ω—è —à–∞—Ä—É –∑ –∫–∞—Ä—Ç–∏–Ω–∫–∏
function addTestOverlay(src) {
  const img = new Image();
  img.onload = () => {
    testLayer.img = img;
    testLayer.scale = 1;
    drawTest();
  };
  img.src = src;
}

// –ú–∞–ª—é–≤–∞–Ω–Ω—è
function drawTest() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  if (testLayer.img) {
    const w = testLayer.img.width * testLayer.scale;
    const h = testLayer.img.height * testLayer.scale;
    ctx.drawImage(testLayer.img, testLayer.x - w / 2, testLayer.y - h / 2, w, h);
  }
}

// Drag
let draggingTest = false, offsetX = 0, offsetY = 0;
canvas.addEventListener('mousedown', e => {
  if (!testLayer.img) return;
  const w = testLayer.img.width * testLayer.scale;
  const h = testLayer.img.height * testLayer.scale;
  if (e.offsetX > testLayer.x - w/2 && e.offsetX < testLayer.x + w/2 &&
      e.offsetY > testLayer.y - h/2 && e.offsetY < testLayer.y + h/2) {
    draggingTest = true;
    offsetX = e.offsetX - testLayer.x;
    offsetY = e.offsetY - testLayer.y;
  }
});
canvas.addEventListener('mousemove', e => {
  if (draggingTest) { testLayer.x = e.offsetX - offsetX; testLayer.y = e.offsetY - offsetY; drawTest(); }
});
canvas.addEventListener('mouseup', () => draggingTest = false);

// –ú–∞—Å—à—Ç–∞–±
scaleSlider.addEventListener('input', () => {
  if (testLayer.img) { testLayer.scale = parseFloat(scaleSlider.value); drawTest(); }
});

// –î–æ–¥–∞—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç—É —à–∞—Ä
addTestOverlay('https://detectfraud.github.io/gallery/LoveStones.png');

</script>

</body>
</html>
